{% extends 'base.html' %}

{% block content %}
<div class="row">
    <div class="col-md-12">
        <table style="width:70%; border-collapse:collapse; border:2px solid #000; margin:auto; font-size:14px;">
            <thead>
                <tr style="border-bottom:2px solid #000;">
                    <th style="border-right:2px solid #000; width:15%; text-align:left; padding:8px;">Avatar</th>
                    <th style="border-right:2px solid #000; width:20%; text-align:left; padding:8px;">Username</th>
                    <th style="border-right:2px solid #000; width:20%; text-align:left; padding:8px;">Comment</th>
                    <th style="border-right:2px solid #000; width:20%; text-align:left; padding:8px;">Time</th>
                </tr>
            </thead>
            <tbody>
                {% for comment in comments %}
                {% if comment %}
                    <tr style="border-top:1px solid #000; border-bottom:1px solid #000;">
                        <!-- Avatar -->
                        <td style="border-right:2px solid #000; padding:7px;">
                            <img src="{{ comment.author.avatar(64) }}" alt="avatar">
                        </td>

                        <!-- Username -->
                        <td style="border-right:2px solid #000; font-weight:normal; padding:5px;">
                            {{ comment.author.username }}
                        </td>

                        <!-- Post -->
                        <td style="border-right:2px solid #000; font-weight:normal; padding:5px;">
                            {{ comment.body }}
                        </td>

                        <!-- Timestamp -->
                        <td style="border-right:2px solid #000; font-style:italic; padding:5px; color:#555;">
                            {{ comment.timestamp.strftime('%Y-%m-%d %H:%M') }}
                        </td>
                    </tr>
                {% endif %}
                {% endfor %}
            </tbody>
        </table>
    </div>
    {% if current_user.is_authenticated %}
    <div>
        <!--  -->
    </div>
    {% else %}
    <div>
        <p class="text-center">
            <a href="{{ url_for('login') }}">Login to post a comment</a>
        </p>
    </div>
    {% endif %}
</div>
{% endblock %}